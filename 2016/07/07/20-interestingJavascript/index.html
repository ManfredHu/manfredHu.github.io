<!DOCTYPE html><html><head><meta charset="utf-8"><!--[if lte IE 9]><div style="background:#FF0;top:0;left:0;font-size:12px;line-height:24px;color:#000;padding:0 10px;"> 您正在使用低版本的IE浏览器，为让你更好更快地浏览网页，建议您尽快升级浏览器。直接下载：<a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" target="_blank">IE浏览器</a> / <a href="http://www.google.com/intl/zh-CN/chrome/browser/">谷歌浏览器</a> / <a href="http://www.firefox.com.cn/download/">火狐浏览器</a> / <a href="http://browser.qq.com/" target="_blank">QQ浏览器</a></div><![endif]--><title>Interesting JavaScript | ManfredHu&#39;s 胡文峰的博客</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="JavaScript,随笔"><meta name="description" content="作者：ManfredHu链接：http://www.manfredhu.com/2016/07/07/20-interestingJavascript声明：版权所有，转载请保留本段信息，否则请不要转载1.声明提升写出下面代码的运行结果12345678910var a,b;(function()&amp;#123;    console.log(a);    console.log(b);    var a"><meta property="og:type" content="article"><meta property="og:title" content="Interesting JavaScript"><meta property="og:url" content="http://ManfredHu.com/2016/07/07/20-interestingJavascript/index.html"><meta property="og:site_name" content="ManfredHu's 胡文峰的博客"><meta property="og:description" content="作者：ManfredHu链接：http://www.manfredhu.com/2016/07/07/20-interestingJavascript声明：版权所有，转载请保留本段信息，否则请不要转载1.声明提升写出下面代码的运行结果12345678910var a,b;(function()&amp;#123;    console.log(a);    console.log(b);    var a"><meta property="og:image" content="http://ManfredHu.com/images/laughing/interesting.jpg"><meta property="og:updated_time" content="2016-07-07T14:57:20.901Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Interesting JavaScript"><meta name="twitter:description" content="作者：ManfredHu链接：http://www.manfredhu.com/2016/07/07/20-interestingJavascript声明：版权所有，转载请保留本段信息，否则请不要转载1.声明提升写出下面代码的运行结果12345678910var a,b;(function()&amp;#123;    console.log(a);    console.log(b);    var a"><link rel="icon" href="/manfredhu.ico"><link rel="stylesheet" href="/css/style.css" type="text/css"><script src="/vendor/jquery/2.0.3/jquery.min.js" type="text/javascript"></script><script type="text/javascript">!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-75636457-1","auto"),ga("send","pageview");</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?6fa0c15bf0ba9ab179b3e619142e10cc";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();</script></head></html><body><div id="wrap"><header id="header"><div id="header-outer" class="outer"><div class="container"><div class="container-inner"><div id="header-title"><h1 class="logo-wrap"><a href="/" class="logo"></a></h1><h2 class="subtitle-wrap"><p class="subtitle">ManfredHu胡文峰的博客</p></h2></div><div id="header-inner" class="nav-container"><a id="main-nav-toggle" class="nav-icon fa fa-bars"></a><div class="nav-container-inner"><ul id="main-nav"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/">主页</a></li><ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/分享/">分享</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/分享/音乐/">音乐</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/笔记/">笔记</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/笔记/AngularJS/">AngularJS</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/笔记/CSS/">CSS</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/笔记/HTML/">HTML</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/笔记/JavaScript/">JavaScript</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/笔记/数据结构/">数据结构</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/笔记/读书笔记/">读书笔记</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/随笔/">随笔</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/随笔/JavaScript/">JavaScript</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/随笔/其他/">其他</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/随笔/分享/">分享</a></li></ul></li></ul><li class="main-nav-list-item"><a class="main-nav-list-link" href="/about/index.html">关于</a></li></ul><nav id="sub-nav"><div id="search-form-wrap"><div class="search-form"><input type="text" class="st-default-search-input search-form-input" placeholder="搜索"></div><script type="text/javascript">!function(t,e,s,n,c,i,a){t.SwiftypeObject=c,t[c]=t[c]||function(){(t[c].q=t[c].q||[]).push(arguments)},i=e.createElement(s),a=e.getElementsByTagName(s)[0],i.async=1,i.src=n,a.parentNode.insertBefore(i,a)}(window,document,"script","//s.swiftypecdn.com/install/v2/st.js","_st"),_st("install","QtCsFW2-9bAz-svt3uzy","2.0.0");</script><style>.st-ui-injected-overlay-container,.st-ui-injected-overlay-container :not(select){font-family:inherit!important}section.st-ui-content.st-search-results a.st-ui-result .st-ui-type-heading{color:#4d99cc!important}.st-ui-injected-overlay-container .st-ui-header input[type=text]:focus{border-bottom:2px solid #4d99cc}.st-ui-injected-overlay-container .st-ui-footer a.st-ui-pagination-link{color:#4d99cc}.st-ui-injected-overlay-container .st-ui-footer a.st-ui-pagination-link span.st-ui-arrow{border-color:#4d99cc}</style></div></nav></div></div></div></div></div></header><div class="container"><div class="main-body container-inner"><div class="main-body-inner"><section id="main"><div class="main-body-header"><h1 class="header"><a class="page-title-link" href="/categories/随笔/">随笔</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/categories/随笔/JavaScript/">JavaScript</a></h1></div><div class="main-body-content"><article id="post-20-interestingJavascript" class="article article-single article-type-post" itemscope="" itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 class="article-title" itemprop="name">Interesting JavaScript</h1></header><p class="article-byline"><a href="/2016/07/07/20-interestingJavascript/" class="article-date"><time datetime="2016-07-07T14:43:02.000Z" itemprop="datePublished">2016-07-07</time></a></p><div class="article-entry" itemprop="articleBody"><blockquote><p>作者：ManfredHu<br>链接：<a href="http://www.manfredhu.com/2016/07/07/20-interestingJavascript" rel="external nofollow" target="_blank">http://www.manfredhu.com/2016/07/07/20-interestingJavascript</a><br>声明：版权所有，转载请保留本段信息，否则请不要转载</p></blockquote><p><img src="/images/laughing/interesting.jpg" alt="interesting"></p><h2 id="1-_u58F0_u660E_u63D0_u5347"><a href="#1-_u58F0_u660E_u63D0_u5347" class="headerlink" title="1.声明提升"></a>1.声明提升</h2><p>写出下面代码的运行结果</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a,b;</span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">    <span class="keyword">var</span> a=b=<span class="number">3</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="built_in">console</span>.log(b);</span><br></pre></td></tr></table></figure><p>A. undefined,undefined,3,3,undefined,3<br>B. undefined,undefined,3,3,undefined,undefined<br>C. 0,0,3,3,undefined,undefined<br>D. undefined,undefined,3,3,0,0</p><p>正确答案：A<br>解释：代码相当于下面这样的过程</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a,b;</span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a;</span><br><span class="line">    <span class="built_in">console</span>.log(a); <span class="comment">//undefined</span></span><br><span class="line">    <span class="built_in">console</span>.log(b); <span class="comment">//undefined</span></span><br><span class="line">    a=<span class="number">3</span>;</span><br><span class="line">    b=<span class="number">3</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(a); <span class="comment">//3</span></span><br><span class="line">    <span class="built_in">console</span>.log(b); <span class="comment">//3</span></span><br><span class="line">&#125;)();</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(b); <span class="comment">//3</span></span><br></pre></td></tr></table></figure><h2 id="2-_u53D8_u91CF_u5B9A_u4E49_u89C4_u5219"><a href="#2-_u53D8_u91CF_u5B9A_u4E49_u89C4_u5219" class="headerlink" title="2.变量定义规则"></a>2.变量定义规则</h2><p>下面符合一个有效的javascript变量定义规则的是？</p><p>A. _$te$t2<br>B. with<br>C. a bc<br>D. 2a</p><p>正确答案： A<br>考点：ECMAScript语法<br>解析：with为关键字，空格不行，数字开头的不行</p><h2 id="3-document-getElementById_u548Cdocument-getElementsByTagName"><a href="#3-document-getElementById_u548Cdocument-getElementsByTagName" class="headerlink" title="3.document.getElementById和document.getElementsByTagName"></a>3.document.getElementById和document.getElementsByTagName</h2><p>JavaScript中<code>document.getElementById</code>的返回值的类型和<code>document.getElementsByTagName</code>的返回值类型分别是？</p><p>A. Array,NodeList<br>B. Object, HTMLCollection<br>C. String,NodeList<br>D. Function,NodeList</p><p>正确答案： B<br>解析：这题可能有争议，浏览器测试代码如下</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="doctype">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">html</span> <span class="attribute">lang</span>=<span class="value">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">charset</span>=<span class="value">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">title</span>&gt;</span>Id与TagName类型检测<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"test"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="javascript"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">checkType</span>(<span class="params">element</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(element));</span><br><span class="line">        &#125;</span><br><span class="line">        checkType(<span class="built_in">document</span>.getElementById(<span class="string">'test'</span>)); <span class="comment">//[object HTMLDivElement]</span></span><br><span class="line">        checkType(<span class="built_in">document</span>.getElementsByTagName(<span class="string">'div'</span>)); <span class="comment">//[object HTMLCollection]</span></span><br><span class="line">    </span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="4-if/var"><a href="#4-if/var" class="headerlink" title="4.if/var"></a>4.if/var</h2><p>下面关于块内函数的做法哪些是正确的？<br>A. if(x){ function foo(){}}<br>B. if(x){ var function foo(){}}<br>C. if(x){ foo = function(){}}<br>D. ECMAScript明确的规范了块级函数，JavaScript实现了这个规范</p><p>正确答案：B<br>解析：测试报错</p><h2 id="5-hasOwnProperty"><a href="#5-hasOwnProperty" class="headerlink" title="5.hasOwnProperty"></a>5.hasOwnProperty</h2><p>下列代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;&#125;</span><br><span class="line">……</span><br><span class="line">obj.hasOwnProperty(<span class="string">"val"</span>);</span><br></pre></td></tr></table></figure><p>中hasOwnProperty的作用是？<br>A. 判断obj对象是否具有val的属性<br>B. 判断obj对象是否具有val的值<br>C. 判断obj的原型对象是否具有val的属性<br>D. 判断obj的原型对象是否具有val的值</p><p>正确答案：A<br>解析：<code>hasOwnProperty()</code>函数用于指示一个对象自身(不包括原型链)是否具有指定名称的属性。如果有，返回<code>true</code>，否则返回<code>false</code></p><h2 id="6-call_u548Capply"><a href="#6-call_u548Capply" class="headerlink" title="6.call和apply"></a>6.call和apply</h2><p>下面有关JavaScript中 call和apply的描述，错误的是？</p><p>A. call和apply都属于Function.prototype的方法，所以每个function实例都有call，apply属性<br>B. 两者传递的参数不一样，call函数第一个参数都是传入给当前对象的对象，apply不是<br>C. apply传入的是一个参数数组，也就是将多个参数组合成为一个数组传入<br>D. call传入的则是直接的参数列表。call方法可将一个函数的对象上下问从出事的上下文改变为thisObj指定的新对象。</p><p>正确答案：B<br>解析:<code>apply</code>和<code>call</code>都是改变函数内部<code>this</code>指向的方法，挂载在<code>Function.prototype</code>下</p><h2 id="7-script_u6807_u7B7E"><a href="#7-script_u6807_u7B7E" class="headerlink" title="7.script标签"></a>7.script标签</h2><p>（不定项选择题）给网页添加javascript的方式有</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A. 使用script标签，将JavaScript代码写到<span class="tag">&lt;<span class="title">script</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>之间</span><br><span class="line">B. 添加外部javascript文件</span><br><span class="line">C. 使用行内javascript</span><br><span class="line">D. 使用@import引入javascript文件</span><br></pre></td></tr></table></figure><p>正确答案：A，B，C<br>解析：只有CSS可以用<code>@import</code>方法，题目其实可以换成CSS，则全部正确</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">给网页添加css的方式有</span><br><span class="line">A. 使用style标签，将JavaScript代码写到<span class="tag">&lt;<span class="title">style</span>&gt;</span><span class="css"></span><span class="tag">&lt;/<span class="title">style</span>&gt;</span>之间</span><br><span class="line">B. 添加外部css文件</span><br><span class="line">C. 使用行内css</span><br><span class="line">D. 使用@import引入css文件</span><br></pre></td></tr></table></figure><h2 id="8-parseInt_u4E0Emap"><a href="#8-parseInt_u4E0Emap" class="headerlink" title="8.parseInt与map"></a>8.parseInt与map</h2><p>[“1”, “2”, “3”].map(parseInt)的输出结果是<br>A. [1,NaN,NaN]<br>B. [1,2,3]<br>C. [NaN,NaN,NaN]<br>D. 发生错误</p><p>正确答案： A. [1,NaN,NaN]<br>解析：</p><ul><li><code>Array.prototype.map(func(currentValue, index, arrary),thisObj)</code><br>map接受两个参数, 一个回调函数 callback, 一个回调函数的this值。其中回调函数接受三个参数 <code>currentValue, index, arrary</code></li><li>parseInt 只接受两个两个参数 string, radix(基数).基数。该值介于 2 ~ 36 之间,如果该参数小于 2 或者大于 36，则 parseInt() 将返回 NaN。<strong>如果为0，则直接输出字符串</strong></li></ul><p>如下的例子来看<code>this</code>的运用和基数的例子：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    value:<span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line">[<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>].map(<span class="function"><span class="keyword">function</span>(<span class="params">currentValue, index, arrary</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">//输出3次obj</span></span><br><span class="line">&#125;,obj);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">'1'</span>, <span class="number">0</span>)); <span class="comment">//1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">'123'</span>, <span class="number">0</span>)); <span class="comment">//123</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">'2'</span>, <span class="number">1</span>)); <span class="comment">//NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">'3'</span>, <span class="number">2</span>)); <span class="comment">//NaN</span></span><br></pre></td></tr></table></figure><p>当<code>[&quot;1&quot;, &quot;2&quot;, &quot;3&quot;].map(parseInt)</code>的时候，传入<code>parseInt</code>的参数为<code>currentValue</code>,<code>index</code></p><p><img src="/images/laughing/interesting-coffee.gif" alt="interesting"></p><h2 id="9-Function-prototype-name"><a href="#9-Function-prototype-name" class="headerlink" title="9.Function.prototype.name"></a>9.Function.prototype.name</h2><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span></span> foo() &#123; &#125;</span><br><span class="line">var oldName = foo.<span class="keyword">name</span>;</span><br><span class="line">foo.<span class="keyword">name</span> = <span class="string">"bar"</span>;</span><br><span class="line">console.<span class="built_in">log</span>([oldName, foo.<span class="keyword">name</span>]);</span><br></pre></td></tr></table></figure><p>A. [‘foo’,’bar’]<br>B. [‘foo’,’foo’]<br>C. [‘bar’,’bar’]<br>D. [‘bar’,’foo’]</p><p>答案：B.[‘foo’,’foo’];</p><p>函数的<code>name</code>属性指向函数名，挂载在<code>Function.prototype</code>下，所以不要给函数赋值属性<code>name</code>哈。并且这个属性是<strong>不可改变的</strong>.</p><p>所以下面这样的例子就不要出现了<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">foo.name = <span class="string">"bar"</span>; <span class="comment">//bad,你居然真忘了Function.prototype.name是一个不可修改的属性！！</span></span><br></pre></td></tr></table></figure></p><p>测试代码：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Function</span>.prototype.hasOwnProperty(<span class="string">'name'</span>)); <span class="comment">//true</span></span><br></pre></td></tr></table></figure></p><h2 id="10-_u6B63_u5219test_u65B9_u6CD5_u7684_u53C2_u6570_u95EE_u9898"><a href="#10-_u6B63_u5219test_u65B9_u6CD5_u7684_u53C2_u6570_u95EE_u9898" class="headerlink" title="10.正则test方法的参数问题"></a>10.正则test方法的参数问题</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> lowerCaseOnly =  <span class="regexp">/^[a-z]+$/</span>;</span><br><span class="line">[lowerCaseOnly.test(<span class="literal">null</span>), lowerCaseOnly.test()]</span><br></pre></td></tr></table></figure><p>A. false, true<br>B. false,true<br>C. true,true<br>D. true,false<br>答案: C.true, true</p><p>如题所示，<code>test</code>方法如果参数为<code>null</code>或者不屑，则默认返回true</p><h2 id="11-_u53D8_u91CF_u4F5C_u7528_u57DF"><a href="#11-_u53D8_u91CF_u4F5C_u7528_u57DF" class="headerlink" title="11.变量作用域"></a>11.变量作用域</h2><p>写出这段代码的运行结果</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">SCRIPT</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="javascript"></span><br><span class="line">    <span class="keyword">var</span> bb = <span class="number">1</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">aa</span>(<span class="params">bb</span>) </span>&#123;</span><br><span class="line">        bb = <span class="number">2</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(bb);</span><br><span class="line">    &#125;;</span><br><span class="line">    aa(bb);</span><br><span class="line">    <span class="built_in">console</span>.log(bb);</span><br><span class="line"></span><span class="tag">&lt;/<span class="title">SCRIPT</span>&gt;</span></span><br></pre></td></tr></table></figure><p>正确答案： 2 1</p><h2 id="12-+-_u64CD_u4F5C_u7B26"><a href="#12-+-_u64CD_u4F5C_u7B26" class="headerlink" title="12.+-操作符"></a>12.+-操作符</h2><p>如下代码输出的结果是什么：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>+ <span class="string">"2"</span>+<span class="string">"2"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>+ +<span class="string">"2"</span>+<span class="string">"2"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"A"</span>- <span class="string">"B"</span>+<span class="string">"2"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"A"</span>- <span class="string">"B"</span>+<span class="number">2</span>);</span><br></pre></td></tr></table></figure><p>正确答案：<br>122 //数字与字符串+则数字默认转换为字符串<br>32 //+号会将字符串2先转化为数字，<strong>这种也是常用的将字符串转换为数字的方式</strong><br>NaN 2<br>NaN</p><p>解析：插播——<strong>常见的将字符串转换为数字的方法：</strong></p><ol><li><code>parseInt</code>,具体使用请看前面第8题</li><li><code>+&quot;123&quot;</code> 类似这种写法，比如某个参数不确定是不是数字可以这样 <code>+data.len</code></li><li><code>Number</code>方法</li></ol><p>从带宽（精简压缩后）考虑会用第二种，所以通常会在代码上大量看到这种写法</p><h2 id="13-null_u548CObject_u7684_u5173_u7CFB"><a href="#13-null_u548CObject_u7684_u5173_u7CFB" class="headerlink" title="13.null和Object的关系"></a>13.null和Object的关系</h2><p><code>[typeof null, null instanceof Object]</code>的输出结果是</p><p>正确答案：object, false<br>解析：<br><code>null</code>为一个空的对象，这个对象存在但是里面一点东西都没有，相当于有堆空间但是里面没有属性。而<code>undefined</code>可以理解为连堆空间都没有（至少表现出来是这样的不是吗？）<br><code>null instanceof Object</code>为<code>false</code>是因为<code>null</code>连属性都没有，更没有检测原型链的<code>_proto_</code>和<code>prototype</code>了。</p><h2 id="14-+_u8FD0_u7B97_u7B26_u4F18_u5148_u4E8E_3F_3A_u8FD0_u7B97_u7B26"><a href="#14-+_u8FD0_u7B97_u7B26_u4F18_u5148_u4E8E_3F_3A_u8FD0_u7B97_u7B26" class="headerlink" title="14.+运算符优先于?:运算符"></a>14.<code>+</code>运算符优先于?<code>:</code>运算符</h2><p>var val = ‘smtg’;<br>console.log(‘Value is ‘ + (val === ‘smtg’) ? ‘Something’ : ‘Nothing’);<br>正确答案： ‘Something’</p><p><img src="/images/laughing/interesting2.png" alt="interesting"></p><h2 id="15-_u53D8_u91CF_u4F5C_u7528_u57DF"><a href="#15-_u53D8_u91CF_u4F5C_u7528_u57DF" class="headerlink" title="15.变量作用域"></a>15.变量作用域</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">写出下面代码的执行效果</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'World!'</span>;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> name === <span class="string">'undefined'</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> name = <span class="string">'Jack'</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Goodbye '</span> + name);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Hello '</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>正确答案： Goodbye Jack</p><p>编译语法分析后代码（声明提升）如下</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">'World!'</span>;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> name === <span class="string">'undefined'</span>) &#123;</span><br><span class="line">        name = <span class="string">'Jack'</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Goodbye '</span> + name); <span class="comment">//Goodbye Jack</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Hello '</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><h2 id="16"><a href="#16" class="headerlink" title="16."></a>16.</h2><p>写出下面题的答案</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> END = <span class="built_in">Math</span>.pow(<span class="number">2</span>, <span class="number">53</span>);</span><br><span class="line"><span class="keyword">var</span> START = END - <span class="number">100</span>;</span><br><span class="line"><span class="keyword">var</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = START; i &lt;= END; i++) &#123;</span><br><span class="line">    count++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(count);</span><br></pre></td></tr></table></figure><p>正确答案：不会输出，因为END是最大值了，<br>解析：在 JS 里, <code>Math.pow(2, 53) == 9007199254740992</code> 是可以<strong>表示的最大值</strong>. 最大值加一还是最大值. 所以循环不会停</p><h2 id="17-_u6D6E_u70B9_u6570_u7684_u4E0D_u51C6_u786E_u6027"><a href="#17-_u6D6E_u70B9_u6570_u7684_u4E0D_u51C6_u786E_u6027" class="headerlink" title="17.浮点数的不准确性"></a>17.浮点数的不准确性</h2><p>输出0.1+0.2 === 0.3的结果，并简单地解释。<br>解析：经典的题目，浮点数因为存在误差，所以不能用<code>===</code>判定，通常在金额处理的时候会乘以10/100倍来小数部分的数据</p><h2 id="18-_u6B63_u5219_u8868_u8FBE_u5F0Freplace_u7684_u9AD8_u7EA7_u7528_u6CD5"><a href="#18-_u6B63_u5219_u8868_u8FBE_u5F0Freplace_u7684_u9AD8_u7EA7_u7528_u6CD5" class="headerlink" title="18.正则表达式replace的高级用法"></a>18.正则表达式replace的高级用法</h2><p>写出答案</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"1 2 3"</span>.replace(<span class="regexp">/\d/g</span>, <span class="built_in">parseInt</span>)</span><br></pre></td></tr></table></figure><p>答案：1, NaN, 3<br>解析：<code>replace()</code> 方法的参数第二个参数可以是函数而不是字符串。在这种情况下，每个匹配都调用该函数，它返回的字符串将作为替换文本使用。</p><p>1.该函数的第一个参数是匹配模式的字符串<br>2.接下来的参数是与模式中的子表达式匹配的字符串，可以有 0 个或多个这样的参数<br>3.接下来的参数是一个整数，声明了匹配在 stringObject 中出现的位置<br>4.最后一个参数是 stringObject 本身。</p><p>题目中因为没有子表达式匹配，即<code>()</code>括起来的匹配项，所以传入<code>parseInt</code>的参数三次分别为：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">parseInt</span><span class="params">(<span class="string">"1"</span>, <span class="number">0</span>)</span></span> <span class="comment">//1，因为当基数为0时候直接输出第一个参数</span></span><br><span class="line"><span class="function"><span class="title">parseInt</span><span class="params">(<span class="string">"2"</span>,<span class="number">2</span>)</span></span> <span class="comment">//NaN，因为2进制只有01两个数字</span></span><br><span class="line"><span class="function"><span class="title">parseInt</span><span class="params">(<span class="string">"3"</span>,<span class="number">4</span>)</span></span> <span class="comment">//3，因为不超过四进制的最大值4</span></span><br></pre></td></tr></table></figure><h2 id="19-getPrototypeOf_u6839_u636Eproto_u83B7_u53D6_u7C7B_u578B"><a href="#19-getPrototypeOf_u6839_u636Eproto_u83B7_u53D6_u7C7B_u578B" class="headerlink" title="19.getPrototypeOf根据proto获取类型"></a>19.getPrototypeOf根据<em>proto</em>获取类型</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> a = f.prototype, b = <span class="built_in">Object</span>.getPrototypeOf(f);</span><br><span class="line"><span class="built_in">console</span>.log(a === b);</span><br></pre></td></tr></table></figure><p>答案：false<br>解析如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> a = f.prototype; <span class="comment">//Object</span></span><br><span class="line"><span class="keyword">var</span> c = <span class="keyword">new</span> f();</span><br><span class="line"><span class="keyword">var</span> b = <span class="built_in">Object</span>.getPrototypeOf(f); <span class="comment">//function</span></span><br><span class="line"><span class="keyword">var</span> d = <span class="built_in">Object</span>.getPrototypeOf(c); <span class="comment">//Obejct</span></span><br><span class="line"><span class="built_in">console</span>.log(a === b); <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(d === a); <span class="comment">//true</span></span><br></pre></td></tr></table></figure><p>函数的原型是一个对象，而函数的原型会是函数，对象的原型会是对象<br>题目这里就是让你混淆普通函数的原型到底是什么？函数还是对象？<br>答案是函数，因为普通函数的<code>_proto_</code>指向的是<code>Function.prototype</code>，所以<code>Object.getPrototypeOf</code>拿到的是<code>function</code></p><p><img src="/images/JavaScriptObjectLayout.jpg" alt="JavaScript Object Layout"></p><p>你可以狠狠戳<a href="http://www.manfredhu.com/2016/03/27/13-proto-prototype-constructor/" rel="external nofollow" target="_blank">这里</a>去看我以前写的<a href="http://www.manfredhu.com/2016/03/27/13-proto-prototype-constructor/" rel="external nofollow" target="_blank">15条规则解析JavaScript对象布局</a></p><p>这里应该可以看的很清楚了，函数<code>Foo</code>的<code>prototype</code>是<code>Foo.prototype</code><br>而<code>Object.getPrototypeOf</code>拿的是<code>_proto_</code>指向的<code>Function.prototype</code>,所以输出的是一个<code>function</code>。<br>而普通对象，如图的<code>o1</code>,<code>o2</code>，<code>_proto_</code>指向的是<code>Object.prototype</code></p><p><img src="/images/laughing/interesting3.jpg" alt="interesting"></p><h2 id="20-_5B_2C_5D_u548Cjoin"><a href="#20-_5B_2C_5D_u548Cjoin" class="headerlink" title="20.[,]和join"></a>20.[,]和join</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[,,,].join(<span class="string">", "</span>)</span><br></pre></td></tr></table></figure><p>答案: “, , “<br>解析：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[,,,].lenth <span class="comment">//3</span></span><br><span class="line">[,,,].join(<span class="string">'-'</span>) <span class="comment">//--</span></span><br></pre></td></tr></table></figure><p>所以这题很明显了，三个逗号默认忽略最后一个，然后用’-‘会在两项中间添加连接符</p><h2 id="21-Function-length_u548Cnew_Function-length"><a href="#21-Function-length_u548Cnew_Function-length" class="headerlink" title="21.Function.length和new Function.length"></a>21.Function.length和new Function.length</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="built_in">Function</span>.length,</span><br><span class="line">    b = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="number">1</span>,<span class="string">'2234'</span>).length;</span><br><span class="line"><span class="built_in">console</span>.log(a === b);</span><br></pre></td></tr></table></figure><p>答案 false<br>解析：a为1，b为0，不相等</p><h2 id="22-Math-min_28_29_u548CMath-max_28_29_u5728_u6CA1_u6709_u53C2_u6570_u65F6_u5019_u7684_u5947_u8469_u60C5_u51B5"><a href="#22-Math-min_28_29_u548CMath-max_28_29_u5728_u6CA1_u6709_u53C2_u6570_u65F6_u5019_u7684_u5947_u8469_u60C5_u51B5" class="headerlink" title="22.Math.min()和Math.max()在没有参数时候的奇葩情况"></a>22.Math.min()和Math.max()在没有参数时候的奇葩情况</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> min = <span class="built_in">Math</span>.min(), max = <span class="built_in">Math</span>.max()</span><br><span class="line">min &lt; max</span><br></pre></td></tr></table></figure><p>答案；false<br>解析：min为Infinity，b为-Infinity，结果是<code>min &gt; max</code></p><blockquote><p>min() 方法可返回指定的数字中带有最低值的数字。<br>Math.min(x,y) 如果没有参数，则返回 Infinity。如果有某个参数为 NaN，或是不能转换成数字的非数字值，则返回 NaN。</p><p>max() 方法可返回两个指定的数中带有较大的值的那个数。<br>Math.max(x…) 如果没有参数，则返回 -Infinity。如果有某个参数为 NaN，或是不能转换成数字的非数字值，则返回 NaN。</p></blockquote><h2 id="23-_u95ED_u5305"><a href="#23-_u95ED_u5305" class="headerlink" title="23.闭包"></a>23.闭包</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">aa</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"aaa"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"bbb"</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(aa);</span><br><span class="line"><span class="built_in">console</span>.log(aa());</span><br><span class="line"><span class="built_in">console</span>.log(aa()());</span><br></pre></td></tr></table></figure><p>答案：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">aa</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"aaa"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(<span class="string">"bbb"</span>);&#125;;</span><br><span class="line">&#125;</span><br><span class="line">aaa</span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(<span class="string">"bbb"</span>);&#125;;</span><br><span class="line">aaa</span><br><span class="line">bbb</span><br><span class="line"><span class="literal">undefined</span></span><br></pre></td></tr></table></figure></p><p>第一个输出aa的函数体，大家都懂<br>第二个执行了<code>aa()</code>，输出文本<code>&quot;aaa&quot;</code>，同时返回了里面的匿名函数<br>第三个在第二步的基础上执行了匿名函数，最后再输出一个bbb，最后因为执行函数没有返回值，返回了<code>undefined</code></p><h2 id="24-_u7C7B_u6570_u7EC4_uFF08array_like_29"><a href="#24-_u7C7B_u6570_u7EC4_uFF08array_like_29" class="headerlink" title="24.类数组（array like)"></a>24.类数组（array like)</h2><p>类数组对象是什么？说一下你知道的JavaScript里面类数组对象有哪些，类数组怎么转化为数组？</p><blockquote><p><strong>类数组</strong>: 指向对象元素的数字索引下标以及 <code>length</code> 属性告诉我们对象的元素个数,但是不具有诸如 <code>push</code> 、 <code>forEach</code> 以及 <code>indexOf</code> 等数组对象具有的方法<br><strong>常见例子</strong>: DOM方法 document.getElementsByClassName() 的返回结果（实际上许多DOM方法的返回值都是类数组）以及特殊变量 arguments</p></blockquote><p>所以通常要有一个转换的过程，借助 <code>Array.prototype.slice</code> 可以实现:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>) <span class="comment">//arguments转化为普通数组</span></span><br></pre></td></tr></table></figure><h2 id="25-_u6784_u9020_u51FD_u6570_u4E0E_u9759_u6001_u65B9_u6CD5"><a href="#25-_u6784_u9020_u51FD_u6570_u4E0E_u9759_u6001_u65B9_u6CD5" class="headerlink" title="25.构造函数与静态方法"></a>25.构造函数与静态方法</h2><p>写出下面代码输出的结果并写出你的解题思路？</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log (<span class="number">1</span>); &#125;;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">Foo.getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log (<span class="number">2</span>);&#125;;</span><br><span class="line">Foo.prototype.getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log (<span class="number">3</span>);&#125;;</span><br><span class="line"><span class="keyword">var</span> getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log (<span class="number">4</span>);&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log (<span class="number">5</span>);&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//请写出以下输出结果：</span></span><br><span class="line">Foo.getName();</span><br><span class="line">getName();</span><br><span class="line">Foo().getName();</span><br><span class="line">getName();</span><br><span class="line"><span class="keyword">new</span> Foo.getName();</span><br><span class="line"><span class="keyword">new</span> Foo().getName();</span><br><span class="line"><span class="keyword">new</span> <span class="keyword">new</span> Foo().getName();</span><br></pre></td></tr></table></figure><p>答案：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Foo.getName();<span class="comment">//2</span></span><br><span class="line">getName();<span class="comment">//4</span></span><br><span class="line">Foo().getName();<span class="comment">//1</span></span><br><span class="line">getName();<span class="comment">//1</span></span><br><span class="line"><span class="keyword">new</span> Foo.getName();<span class="comment">//2</span></span><br><span class="line"><span class="keyword">new</span> Foo().getName();<span class="comment">//3</span></span><br><span class="line"><span class="keyword">new</span> <span class="keyword">new</span> Foo().getName();<span class="comment">//3</span></span><br></pre></td></tr></table></figure><h2 id="26-_u5178_u578B_u95ED_u5305"><a href="#26-_u5178_u578B_u95ED_u5305" class="headerlink" title="26.典型闭包"></a>26.典型闭包</h2><p>下面代码的运行结果是？</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">charset</span>=<span class="value">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">title</span>&gt;</span>DOM进阶<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="javascript"></span><br><span class="line">    <span class="built_in">window</span>.onload=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> buttons=<span class="built_in">document</span>.getElementsByName(<span class="string">'button1'</span>);</span><br><span class="line">              <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;buttons.length;i++)&#123;</span><br><span class="line">                    buttons[i].onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;        </span><br><span class="line">                        <span class="built_in">console</span>.log(i);</span><br><span class="line">                    &#125;;</span><br><span class="line">              &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"button"</span> <span class="attribute">name</span>=<span class="value">"button1"</span> <span class="attribute">value</span>=<span class="value">"按钮1"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"button"</span> <span class="attribute">name</span>=<span class="value">"button1"</span> <span class="attribute">value</span>=<span class="value">"按钮2"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"button"</span> <span class="attribute">name</span>=<span class="value">"button1"</span> <span class="attribute">value</span>=<span class="value">"按钮3"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"button"</span> <span class="attribute">name</span>=<span class="value">"button1"</span> <span class="attribute">value</span>=<span class="value">"按钮4"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"button"</span> <span class="attribute">name</span>=<span class="value">"button1"</span> <span class="attribute">value</span>=<span class="value">"按钮5"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这个错新手估计会犯，当初的我也是。<br>闭包，点那个按钮都是输出 <code>buttons.length</code> 的值，这里是5</p></div><footer class="article-footer"><div class="bdsharebuttonbox"><a href="#" class="bds_more" data-cmd="more">分享到：</a> <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间">QQ空间</a> <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博">新浪微博</a> <a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博">腾讯微博</a> <a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网">人人网</a> <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信">微信</a></div><script>with(window._bd_share_config={common:{bdSnsKey:{},bdText:"",bdMini:"2",bdMiniList:!1,bdPic:"",bdStyle:"0",bdSize:"16"},share:{bdSize:16}},document)0[(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion="+~(-new Date/36e5)];</script><style>.bdshare_popup_box{border-radius:4px;border:#e1e1e1 solid 1px}.bdshare-button-style0-16 .bds_more,.bdshare-button-style0-16 a{padding-left:20px;margin:6px 10px 6px 0}.bdshare_dialog_list a,.bdshare_popup_bottom a,.bdshare_popup_list a{font-family:'Microsoft Yahei'}.bdshare_popup_top{display:none}.bdshare_popup_bottom{height:auto;padding:5px}</style><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/随笔/">随笔</a></li></ul></footer></div></article><section id="comments"><div id="uyan_frame"></div><script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2091310"></script></section></div></section><aside id="sidebar"><a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a><div class="sidebar-top"><p>关注我 :</p><ul class="social-links"><li><a class="social-tooltip" title="github-alt" href="https://github.com/ManfredHu" target="_blank" rel="external nofollow"><i class="icon fa fa-github-alt"></i></a></li><li><a class="social-tooltip" title="twitter" href="https://twitter.com/manfred_hu" target="_blank" rel="external nofollow"><i class="icon fa fa-twitter"></i></a></li><li><a class="social-tooltip" title="facebook" href="https://www.facebook.com/profile.php?id=100011609101404" target="_blank" rel="external nofollow"><i class="icon fa fa-facebook"></i></a></li><li><a class="social-tooltip" title="qq" href="tencent://message/?uin=279331641&Site=lvehe&Menu=yes" target="_blank" rel="external nofollow"><i class="icon fa fa-qq"></i></a></li><li><a class="social-tooltip" title="wechat" href="/about/index.html" target="_blank"><i class="icon fa fa-wechat"></i></a></li><li><a class="social-tooltip" title="google-plus" href="https://plus.google.com/118256752859048436253/posts" target="_blank" rel="external nofollow"><i class="icon fa fa-google-plus"></i></a></li></ul></div><nav id="article-nav"><a href="/2016/07/12/21-classNames/" id="article-nav-newer" class="article-nav-link-wrap"><strong class="article-nav-caption">下一篇</strong><p class="article-nav-title">classNames模块</p><i class="icon fa fa-chevron-right" id="icon-chevron-right"></i></a> <a href="/2016/06/14/19-extendMethod/" id="article-nav-older" class="article-nav-link-wrap"><strong class="article-nav-caption">上一篇</strong><p class="article-nav-title">对象深复制</p><i class="icon fa fa-chevron-left" id="icon-chevron-left"></i></a></nav><div class="widgets-container"><div class="widget-wrap"><h3 class="widget-title">最新文章</h3><div class="widget"><ul id="recent-post"><li><div class="item-thumbnail"><a href="/2016/08/16/22-url/" class="thumbnail"><span style="background-image:url(/images/urlPic/main.jpg)" alt="谈谈url这东西" class="thumbnail-image"></span></a></div><div class="item-inner"><p class="item-category"><a class="article-category-link" href="/categories/随笔/">随笔</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/随笔/分享/">分享</a></p><p class="item-title"><a href="/2016/08/16/22-url/" class="title">谈谈url这东西</a></p><p class="item-date"><time datetime="2016-08-16T14:58:40.000Z" itemprop="datePublished">2016-08-16</time></p></div></li><li><div class="item-thumbnail"><a href="/2016/07/12/21-classNames/" class="thumbnail"><span style="background-image:url(/images/classNames.png)" alt="classNames模块" class="thumbnail-image"></span></a></div><div class="item-inner"><p class="item-category"><a class="article-category-link" href="/categories/随笔/">随笔</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/随笔/分享/">分享</a></p><p class="item-title"><a href="/2016/07/12/21-classNames/" class="title">classNames模块</a></p><p class="item-date"><time datetime="2016-07-12T15:18:35.000Z" itemprop="datePublished">2016-07-12</time></p></div></li><li><div class="item-thumbnail"><a href="/2016/07/07/20-interestingJavascript/" class="thumbnail"><span style="background-image:url(/images/laughing/interesting.jpg)" alt="Interesting JavaScript" class="thumbnail-image"></span></a></div><div class="item-inner"><p class="item-category"><a class="article-category-link" href="/categories/随笔/">随笔</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/随笔/JavaScript/">JavaScript</a></p><p class="item-title"><a href="/2016/07/07/20-interestingJavascript/" class="title">Interesting JavaScript</a></p><p class="item-date"><time datetime="2016-07-07T14:43:02.000Z" itemprop="datePublished">2016-07-07</time></p></div></li><li><div class="item-thumbnail"><a href="/2016/06/14/19-extendMethod/" class="thumbnail"><span style="background-image:url(/images/extend.png)" alt="对象深复制" class="thumbnail-image"></span></a></div><div class="item-inner"><p class="item-category"><a class="article-category-link" href="/categories/随笔/">随笔</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/随笔/JavaScript/">JavaScript</a></p><p class="item-title"><a href="/2016/06/14/19-extendMethod/" class="title">对象深复制</a></p><p class="item-date"><time datetime="2016-06-14T14:59:03.000Z" itemprop="datePublished">2016-06-14</time></p></div></li><li><div class="item-thumbnail"><a href="/2016/06/14/18-internship/" class="thumbnail"><span style="background-image:url(/images/shixi.jpg)" alt="关于实习的一些看法" class="thumbnail-image"></span></a></div><div class="item-inner"><p class="item-category"><a class="article-category-link" href="/categories/随笔/">随笔</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/随笔/其他/">其他</a></p><p class="item-title"><a href="/2016/06/14/18-internship/" class="title">关于实习的一些看法</a></p><p class="item-date"><time datetime="2016-06-14T14:41:30.000Z" itemprop="datePublished">2016-06-14</time></p></div></li></ul></div></div><div class="widget-wrap widget-list"><h3 class="widget-title">分类</h3><div class="widget"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/分享/">分享</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/分享/音乐/">音乐</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/笔记/">笔记</a><span class="category-list-count">8</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/笔记/AngularJS/">AngularJS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/笔记/CSS/">CSS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/笔记/HTML/">HTML</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/笔记/JavaScript/">JavaScript</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/笔记/数据结构/">数据结构</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/笔记/读书笔记/">读书笔记</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/">随笔</a><span class="category-list-count">14</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/JavaScript/">JavaScript</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/其他/">其他</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/分享/">分享</a><span class="category-list-count">2</span></li></ul></li></ul></div></div><div class="widget-wrap widget-list"><h3 class="widget-title">归档</h3><div class="widget"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">一月 2016</a><span class="archive-list-count">6</span></li></ul></div></div><div class="widget-wrap widget-list"><h3 class="widget-title">标签</h3><div class="widget"><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AnuglarJS/">AnuglarJS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Canvas/">Canvas</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6/">ES6</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/URL/">URL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Zepto/">Zepto</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/book/">book</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/music/">music</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分享/">分享</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/扯蛋/">扯蛋</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构/">数据结构</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/杂文/">杂文</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/模块/">模块</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/笔记/">笔记</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/随笔/">随笔</a><span class="tag-list-count">13</span></li></ul></div></div><div class="widget-wrap widget-float"><h3 class="widget-title">标签云</h3><div class="widget tagcloud"><a href="/tags/AnuglarJS/" style="font-size:10px">AnuglarJS</a> <a href="/tags/CSS/" style="font-size:10px">CSS</a> <a href="/tags/Canvas/" style="font-size:10px">Canvas</a> <a href="/tags/ES6/" style="font-size:10px">ES6</a> <a href="/tags/HTML/" style="font-size:12.5px">HTML</a> <a href="/tags/JavaScript/" style="font-size:20px">JavaScript</a> <a href="/tags/URL/" style="font-size:10px">URL</a> <a href="/tags/Zepto/" style="font-size:10px">Zepto</a> <a href="/tags/book/" style="font-size:10px">book</a> <a href="/tags/jQuery/" style="font-size:10px">jQuery</a> <a href="/tags/music/" style="font-size:12.5px">music</a> <a href="/tags/分享/" style="font-size:12.5px">分享</a> <a href="/tags/扯蛋/" style="font-size:10px">扯蛋</a> <a href="/tags/数据结构/" style="font-size:10px">数据结构</a> <a href="/tags/杂文/" style="font-size:15px">杂文</a> <a href="/tags/模块/" style="font-size:10px">模块</a> <a href="/tags/笔记/" style="font-size:17.5px">笔记</a> <a href="/tags/随笔/" style="font-size:20px">随笔</a></div></div><div class="widget-wrap widget-list"><h3 class="widget-title">链接</h3><div class="widget"><ul><li><a href="http://www.cnblogs.com/manfredHu/" rel="external nofollow" target="_blank">博客园博客</a></li><li><a href="http://www.zaoduke.net/" rel="external nofollow" target="_blank">前端De早读课</a></li><li><a href="http:​/​/​www.html5dw.com/​">HTML5梦工场​</a></li><li><a href="http:​/​/​www.qianduan.net/​">前端观察​</a></li><li><a href="http:​/​/​simple-is-better.com/​">python4cn​</a></li><li><a href="http:​/​/​www.thinksaas.cn/​">ThinkSAAS​</a></li><li><a href="http:​/​/​www.AlloyTeam.com/​">腾讯Alloy团队​</a></li><li><a href="http:​/​/​html5.360.cn/​">HTML5基地​</a></li><li><a href="http:​/​/​cn.cocos2d-x.org/​">Cocos引擎官网​</a></li><li><a href="http:​/​/​www.w3cplus.com">W3Cplus​</a></li><li><a href="http:​/​/​www.51h5.com/​">火舞游戏​</a></li><li><a href="http:​/​/​ionichina.com">ionichina社区​</a></li><li><a href="http:​/​/​www.linuxstory.org">Linux Story​</a></li><li><a href="http:​/​/​imweb.io">imweb​</a></li><li><a href="http:​/​/​idesign.qq.com/​">腾讯设计导航​</a></li><li><a href="http:​/​/​www.biaonimeia.com/​">设计自动标注工具​</a></li><li><a href="http:​/​/​www.w3school.com.cn">w3school中文</a></li><li><a href="http:​/​/​www.zcfy.cc/​">前端翻译平台</a></li></ul></div></div></div></aside></div></div></div><footer id="footer"><div class="container"><div class="container-inner"><a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a><div class="credit"><h1 class="logo-wrap"><a href="/" class="logo"></a></h1><p>&copy; 2016 ManfredHu</p></div></div></div></footer><a href="https://github.com/ManfredHu" rel="external nofollow" target="_blank"><img style="position:absolute;top:0;right:0;border:0" src="https://camo.githubusercontent.com/52760788cde945287fbb584134c4cbc2bc36f904/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f77686974655f6666666666662e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"></a></div><script src="/js/main.js" type="text/javascript"></script></body>